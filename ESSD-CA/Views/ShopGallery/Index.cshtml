@{
    ViewData["Title"] = "Shop";
    string searchString = (string)ViewData["searchString"];
    List<Product> products = (List<Product>)ViewData["products"];

}

@{
    int searchReturned = products.Count;
}

@section Scripts{
    <script src="~/js/ShopGallery/AddToCart.js"></script>
}

<br />

@if (searchString != null)
{
    <h5>Your search for "@searchString" returned @searchReturned result(s)</h5>
}

@if (searchReturned == 0)
{
    <br />
    <a class="nav-item text-black-50" asp-area="" asp-controller="ShopGallery" asp-action="Index">Go back to Products</a>
}



@foreach (Product product in products)
{
    <div class="d-inline-flex mt-1 justify-content-center">
        <div style="width: 14rem;">
            <div class="card">
                <img class="card-img rounded" style="height: 9rem;" src="@product.ImagePath">
                <div class="card-body">
                    <h5 class="card-title" style="height: 3rem;">@product.ProductName</h5>
                    <p class="card-text" style="height: 4rem;">@product.ProductDescription</p>
                    <div class="price text-success" style="height: 0rem;"><h6>S$@product.UnitPrice</h6></div>
                    <p class="card-text mt-4" style="height: 1rem;">Quantity</p>
                    <div class="form-inline justify-content-between">
                        <input type="number" class="form-control w-75" name="count" min="1" max="1000" value="1" />
                        <button type="button" value="Add to Cart" class="addQuantity btn btn-warning w-25" productId="@product.Id"><img src="~/img/shopping-cart.png" width="20" /></button>
                        <button type="submit" value="Checkout" class="btn btn-danger flex-grow-1 mt-1" style="width: 100%;">Checkout</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
}




